# ğŸ§¾ Sistema de Atendimento P4 Fila

## ğŸ“‹ SumÃ¡rio

1. [VisÃ£o Geral](#1-visÃ£o-geral)
2. [Arquitetura e PadrÃµes de Design](#2-arquitetura-e-padrÃµes-de-design)
3. [Modelagem](#3-modelagem)
   - 3.1 Modelo Conceitual (Diagrama E-R)
   - 3.2 Modelo LÃ³gico (Tabelas)
4. [Diagrama de Classes](#4-diagrama-de-classes)
   - 4.1 Diagrama Completo do Sistema
   - 4.2 Relacionamentos Principais
5. [Diagrama de Casos de Uso](#5-diagrama-de-casos-de-uso)
   - 5.1 Diagrama Completo com Atores
   - 5.2 Matriz de Casos de Uso
6. [Entidades do Sistema](#6-entidades-do-sistema)
7. [Regras de NegÃ³cio](#7-regras-de-negÃ³cio)
8. [Script da Base de Dados](#8-script-da-base-de-dados)
9. [Tecnologias](#9-tecnologias)
10. [Estrutura de Pacotes](#10-estrutura-de-pacotes)
11. [Interface Web](#11-interface-web)
12. [Como Executar](#12-como-executar)
13. [Testes](#13-testes)
14. [API REST](#14-api-rest)
15. [Diagrama de SequÃªncia](#15-diagrama-de-sequÃªncia)
16. [ConclusÃ£o](#16-conclusÃ£o)

---

## 1. VisÃ£o Geral

O **Sistema de Atendimento P4 Fila** Ã© uma aplicaÃ§Ã£o web desenvolvida com **Spring Boot** para gerenciar filas de atendimento em departamentos, permitindo a organizaÃ§Ã£o de clientes em filas normais ou prioritÃ¡rias, com controle de atendimentos realizados por colaboradores.

### Objetivo
Gerenciar o fluxo completo de atendimentos, desde a geraÃ§Ã£o de senhas atÃ© o registro de atendimentos, incluindo funcionalidades de chamada, confirmaÃ§Ã£o, finalizaÃ§Ã£o e transferÃªncia de atendimentos entre departamentos.

---

## 2. Arquitetura e PadrÃµes de Design

### 2.1 PadrÃµes de Design Adotados

#### ğŸ¯ **Singleton Pattern**
**Classe:** `H2ConnectionSingleton`

**Justificativa:** 
- Garantir **uma Ãºnica instÃ¢ncia** de conexÃ£o com o banco de dados H2
- Reduzir overhead de criaÃ§Ã£o de mÃºltiplas conexÃµes
- Centralizar o controle de acesso ao banco
- Thread-safe para operaÃ§Ãµes concorrentes

**ImplementaÃ§Ã£o:**
```java
public static synchronized H2ConnectionSingleton getInstance() {
    if (instance == null) {
        instance = new H2ConnectionSingleton();
    }
    return instance;
}
```

**BenefÃ­cios:**
- âœ… EficiÃªncia de recursos
- âœ… Controle centralizado
- âœ… PrevenÃ§Ã£o de race conditions
- âœ… Facilita manutenÃ§Ã£o

#### ğŸ­ **Factory Pattern**
**Classe:** `EntityFactory`

**Justificativa:**
- **Centralizar a lÃ³gica de criaÃ§Ã£o** de entidades
- Garantir **criaÃ§Ã£o consistente** de objetos
- Implementar regras de negÃ³cio na geraÃ§Ã£o de senhas
- Facilitar extensÃ£o e manutenÃ§Ã£o

**ImplementaÃ§Ã£o:**
```java
public Secao createSecao(Long idCliente, String tipoSecao) {
    Secao secao = new Secao();
    secao.setIdCliente(idCliente);
    secao.setTipoSecao(tipoSecao);
    secao.setSenha(generateSenha(tipoSecao)); // Regra de negÃ³cio
    secao.setAtivo(true);
    secao.setStatus("AGUARDANDO");
    return secao;
}
```

**BenefÃ­cios:**
- âœ… SeparaÃ§Ã£o de responsabilidades
- âœ… CriaÃ§Ã£o padronizada
- âœ… Facilita testes
- âœ… Reduz acoplamento

---

## 3. Modelagem

### 3.1 Modelo Conceitual (Diagrama E-R)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DEPARTAMENTO                              â”‚
â”‚                         (1,N)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id              : BIGINT (AUTO_INCREMENT)                  â”‚
â”‚    â”‚ nome            : VARCHAR(100) UNIQUE NOT NULL              â”‚
â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 1
     â”‚ tem
     â”‚
     â”‚ N
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        COLABORADOR                               â”‚
â”‚                         (N,1)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id              : UUID                                      â”‚
â”‚ FK â”‚ departamento_id : BIGINT â†’ DEPARTAMENTO(id)                â”‚
â”‚    â”‚ nome            : VARCHAR(200) NOT NULL                     â”‚
â”‚    â”‚ cpf             : VARCHAR(14) UNIQUE                        â”‚
â”‚    â”‚ idade           : INTEGER                                   â”‚
â”‚    â”‚ usuario         : VARCHAR(50) UNIQUE NOT NULL               â”‚
â”‚    â”‚ senha           : VARCHAR(255) NOT NULL                     â”‚
â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 1
     â”‚ realiza
     â”‚
     â”‚ N
â”Œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    â”‚                    ATENDIMENTO                              â”‚
â”‚    â”‚                     (N,1)                                   â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id                      : BIGINT (AUTO_INCREMENT)           â”‚
â”‚ FK â”‚ id_secao                : BIGINT â†’ SECAO(id)               â”‚
â”‚ FK â”‚ id_colaborador          : UUID â†’ COLABORADOR(id)           â”‚
â”‚ FK â”‚ departamento_origem_id  : BIGINT â†’ DEPARTAMENTO(id)        â”‚
â”‚ FK â”‚ departamento_destino_id : BIGINT â†’ DEPARTAMENTO(id)        â”‚
â”‚    â”‚ descricao_atendimento   : TEXT                              â”‚
â”‚    â”‚ status                  : VARCHAR(20)                       â”‚
â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ N
     â”‚
     â”‚ 1
     â”‚ pertence a
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        SECAO                                    â”‚
â”‚                         (1,N)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id              : BIGINT (AUTO_INCREMENT)                  â”‚
â”‚ FK â”‚ id_cliente      : BIGINT â†’ CLIENTE(id)                     â”‚
â”‚    â”‚ senha           : VARCHAR(20) UNIQUE NOT NULL              â”‚
â”‚    â”‚ tipo_secao      : VARCHAR(20) NOT NULL                     â”‚
â”‚    â”‚ status          : VARCHAR(20) DEFAULT 'AGUARDANDO'         â”‚
â”‚    â”‚ ativo           : BOOLEAN DEFAULT TRUE                     â”‚
â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚ 1
     â”‚ possui
     â”‚
     â”‚ N                    â”‚ N
     â”‚                      â”‚ estÃ¡ em
     â”‚                      â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CLIENTE                                   â”‚
â”‚                         (1,N)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id              : BIGINT (AUTO_INCREMENT)                  â”‚
â”‚    â”‚ nome            : VARCHAR(200) NOT NULL                     â”‚
â”‚    â”‚ idade           : INTEGER                                   â”‚
â”‚    â”‚ cpf             : VARCHAR(14) UNIQUE                        â”‚
â”‚    â”‚ email           : VARCHAR(255) UNIQUE                       â”‚
â”‚    â”‚ senha           : VARCHAR(255)                              â”‚
â””â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚
     â”‚ N
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        FILA                                      â”‚
â”‚                         (N,1)                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK â”‚ id              : BIGINT (AUTO_INCREMENT)                  â”‚
â”‚ FK â”‚ id_departamento : BIGINT â†’ DEPARTAMENTO(id)                â”‚
â”‚ FK â”‚ id_secao        : BIGINT â†’ SECAO(id)                       â”‚
â”‚    â”‚ espera          : BOOLEAN DEFAULT TRUE                     â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Relacionamentos:
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ DEPARTAMENTO (1) â”€â”€< COLABORADOR (N)                            â”‚
â”‚   Um departamento possui muitos colaboradores                   â”‚
â”‚                                                                  â”‚
â”‚ DEPARTAMENTO (1) â”€â”€< FILA (N)                                   â”‚
â”‚   Um departamento possui muitas filas                           â”‚
â”‚                                                                  â”‚
â”‚ CLIENTE (1) â”€â”€< SECAO (N)                                       â”‚
â”‚   Um cliente possui muitas seÃ§Ãµes (senhas)                      â”‚
â”‚                                                                  â”‚
â”‚ SECAO (1) â”€â”€< ATENDIMENTO (N)                                   â”‚
â”‚   Uma seÃ§Ã£o pode ter vÃ¡rios atendimentos                        â”‚
â”‚                                                                  â”‚
â”‚ COLABORADOR (1) â”€â”€< ATENDIMENTO (N)                             â”‚
â”‚   Um colaborador realiza vÃ¡rios atendimentos                    â”‚
â”‚                                                                  â”‚
â”‚ SECAO (1) â”€â”€< FILA (N)                                          â”‚
â”‚   Uma seÃ§Ã£o pode estar em vÃ¡rias filas                          â”‚
â”‚                                                                  â”‚
â”‚ DEPARTAMENTO (1) â”€â”€< ATENDIMENTO (N) [origem]                  â”‚
â”‚   Um departamento pode ter atendimentos como origem             â”‚
â”‚                                                                  â”‚
â”‚ DEPARTAMENTO (1) â”€â”€< ATENDIMENTO (N) [destino]                 â”‚
â”‚   Um departamento pode receber atendimentos transferidos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legenda:
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK  - Primary Key (Chave PrimÃ¡ria)                              â”‚
â”‚ FK  - Foreign Key (Chave Estrangeira)                           â”‚
â”‚ (1,N) - Cardinalidade (1 para N)                                â”‚
â”‚ â†’   - Relacionamento de FK                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 Modelo LÃ³gico (Tabelas)

#### **departamentos**
| Campo | Tipo      | Constraints |
|-------|-----------|-------------|
| id    | BIGINT    | PK, AUTO_INCREMENT |
| nome  | VARCHAR   | NOT NULL, UNIQUE |

#### **colaboradores**
| Campo           | Tipo      | Constraints |
|-----------------|-----------|-------------|
| id              | UUID      | PK |
| nome            | VARCHAR   | NOT NULL |
| cpf             | VARCHAR   | UNIQUE |
| idade           | INTEGER   | |
| usuario         | VARCHAR   | UNIQUE, NOT NULL |
| senha           | VARCHAR   | NOT NULL |
| departamento_id | BIGINT    | FK â†’ departamentos |

#### **clientes**
| Campo  | Tipo      | Constraints |
|--------|-----------|-------------|
| id     | BIGINT    | PK, AUTO_INCREMENT |
| nome   | VARCHAR   | NOT NULL |
| idade  | INTEGER   | |
| cpf    | VARCHAR   | UNIQUE |
| email  | VARCHAR   | UNIQUE |
| senha  | VARCHAR   | |

#### **secoes**
| Campo        | Tipo      | Constraints |
|--------------|-----------|-------------|
| id           | BIGINT    | PK, AUTO_INCREMENT |
| id_cliente   | BIGINT    | FK â†’ clientes |
| senha        | VARCHAR   | UNIQUE, NOT NULL |
| tipo_secao   | VARCHAR   | NOT NULL (NORMAL/PRIORITARIA) |
| status       | VARCHAR   | (AGUARDANDO/CHAMADA/EM_ATENDIMENTO/FINALIZADA/TRANSFERIDA) |
| ativo        | BOOLEAN   | NOT NULL |

#### **atendimentos**
| Campo                   | Tipo      | Constraints |
|-------------------------|-----------|-------------|
| id                      | BIGINT    | PK, AUTO_INCREMENT |
| id_secao                | BIGINT    | FK â†’ secoes |
| id_colaborador          | UUID      | FK â†’ colaboradores |
| descricao_atendimento   | TEXT      | |
| status                  | VARCHAR   | |
| departamento_origem_id  | BIGINT    | FK â†’ departamentos |
| departamento_destino_id | BIGINT    | FK â†’ departamentos |

#### **filas**
| Campo           | Tipo      | Constraints |
|-----------------|-----------|-------------|
| id              | BIGINT    | PK, AUTO_INCREMENT |
| id_departamento | BIGINT    | FK â†’ departamentos |
| id_secao        | BIGINT    | FK â†’ secoes |
| espera          | BOOLEAN   | NOT NULL |

---

## 4. Diagrama de Classes

### 4.1 Diagrama Completo do Sistema

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         <<Singleton>>                                    â”‚
â”‚                    H2ConnectionSingleton                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - instance: H2ConnectionSingleton (static)                              â”‚
â”‚ - dataSource: DataSource                                                â”‚
â”‚ - connection: Connection                                                â”‚
â”‚ - url: String                                                           â”‚
â”‚ - username: String                                                      â”‚
â”‚ - password: String                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + getInstance(): H2ConnectionSingleton (static, synchronized)           â”‚
â”‚ + getDataSource(): DataSource                                           â”‚
â”‚ + getConnection(): Connection                                           â”‚
â”‚ + closeConnection(): void                                               â”‚
â”‚ + isConnectionActive(): boolean                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ uses
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        javax.sql.DataSource                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         <<Factory>>                                      â”‚
â”‚                        EntityFactory                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + createCliente(nome, idade, cpf, email, senha): Cliente               â”‚
â”‚ + createDepartamento(nome): Departamento                                â”‚
â”‚ + createColaborador(nome, cpf, idade, deptId, user, senha): Colaboradorâ”‚
â”‚ + createSecao(idCliente, tipoSecao): Secao                              â”‚
â”‚ + createAtendimento(idSecao, idColab, desc): Atendimento                â”‚
â”‚ + createFila(idDept, idSecao): Fila                                     â”‚
â”‚ - generateSenha(tipoSecao): String                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ creates
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           Model Classes                  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Cliente                                       â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: Long (@Id, @GeneratedValue)                                       â”‚
â”‚ - nome: String (NOT NULL)                                               â”‚
â”‚ - idade: Integer                                                        â”‚
â”‚ - cpf: String (UNIQUE)                                                  â”‚
â”‚ - email: String (UNIQUE)                                                â”‚
â”‚ - senha: String                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ 1
                              â”‚
                              â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Secao                                         â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: Long (@Id, @GeneratedValue)                                       â”‚
â”‚ - idCliente: Long (@ManyToOne â†’ Cliente)                                â”‚
â”‚ - senha: String (UNIQUE, NOT NULL)                                      â”‚
â”‚ - tipoSecao: String (NORMAL/PRIORITARIA)                                â”‚
â”‚ - status: String (AGUARDANDO/CHAMADA/EM_ATENDIMENTO/...)                â”‚
â”‚ - ativo: Boolean                                                        â”‚
â”‚ - cliente: Cliente (lazy)                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ 1
                              â”‚
                              â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Atendimento                                      â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: Long (@Id, @GeneratedValue)                                       â”‚
â”‚ - idSecao: Long (@ManyToOne â†’ Secao)                                    â”‚
â”‚ - idColaborador: UUID (@ManyToOne â†’ Colaborador)                        â”‚
â”‚ - descricaoAtendimento: String (TEXT)                                   â”‚
â”‚ - status: String                                                        â”‚
â”‚ - departamentoOrigemId: Long                                            â”‚
â”‚ - departamentoDestinoId: Long                                           â”‚
â”‚ - secao: Secao (lazy)                                                   â”‚
â”‚ - colaborador: Colaborador (lazy)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ N
                              â”‚
                              â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         Colaborador                                      â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: UUID (@Id, @GeneratedValue)                                       â”‚
â”‚ - nome: String (NOT NULL)                                               â”‚
â”‚ - cpf: String (UNIQUE)                                                  â”‚
â”‚ - idade: Integer                                                        â”‚
â”‚ - usuario: String (UNIQUE, NOT NULL)                                    â”‚
â”‚ - senha: String (NOT NULL)                                              â”‚
â”‚ - departamentoId: Long (@ManyToOne â†’ Departamento)                      â”‚
â”‚ - departamento: Departamento (lazy)                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ N
                              â”‚
                              â”‚ 1
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Departamento                                      â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: Long (@Id, @GeneratedValue)                                       â”‚
â”‚ - nome: String (UNIQUE, NOT NULL)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ 1
                              â”‚
                              â”‚ N
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            Fila                                          â”‚
â”‚                         @Entity                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - id: Long (@Id, @GeneratedValue)                                       â”‚
â”‚ - idDepartamento: Long (@ManyToOne â†’ Departamento)                      â”‚
â”‚ - idSecao: Long (@ManyToOne â†’ Secao)                                    â”‚
â”‚ - espera: Boolean                                                       â”‚
â”‚ - departamento: Departamento (lazy)                                     â”‚
â”‚ - secao: Secao (lazy)                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        <<Repository>>                                    â”‚
â”‚                     ClienteRepository                                    â”‚
â”‚              extends JpaRepository<Cliente, Long>                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + findByCpf(cpf): Optional<Cliente>                                     â”‚
â”‚ + findByEmail(email): Optional<Cliente>                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ implements
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        <<Service>>                                       â”‚
â”‚                        ClienteService                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - clienteRepository: ClienteRepository                                  â”‚
â”‚ - entityFactory: EntityFactory                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + criarCliente(...): Cliente                                            â”‚
â”‚ + listarClientes(): List<Cliente>                                       â”‚
â”‚ + buscarPorId(id): Optional<Cliente>                                    â”‚
â”‚ + buscarPorCpf(cpf): Optional<Cliente>                                  â”‚
â”‚ + atualizarCliente(id, cliente): Cliente                                â”‚
â”‚ + deletarCliente(id): void                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ uses
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      <<Controller>>                                      â”‚
â”‚                       ViewController                                     â”‚
â”‚                      @Controller                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - clienteRepository: ClienteRepository                                  â”‚
â”‚ - secaoRepository: SecaoRepository                                      â”‚
â”‚ - colaboradorRepository: ColaboradorRepository                          â”‚
â”‚ - colaboradorLogado: Colaborador                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + index(): String                                                       â”‚
â”‚ + clientes(): String                                                    â”‚
â”‚ + salvarCliente(...): String                                            â”‚
â”‚ + editarCliente(id): String                                             â”‚
â”‚ + deletarCliente(id): String                                            â”‚
â”‚ + criarSecao(): String                                                  â”‚
â”‚ + gerarSenha(...): String                                               â”‚
â”‚ + visualizarSenhas(...): String                                         â”‚
â”‚ + login(): String                                                       â”‚
â”‚ + fazerLogin(...): String                                               â”‚
â”‚ + atendimento(): String                                                 â”‚
â”‚ + chamarSenha(...): String                                              â”‚
â”‚ + iniciarAtendimento(...): String                                       â”‚
â”‚ + finalizarAtendimento(...): String                                     â”‚
â”‚ + transferirAtendimento(...): String                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legenda:
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <<Singleton>>   - PadrÃ£o Singleton                                      â”‚
â”‚ <<Factory>>     - PadrÃ£o Factory                                        â”‚
â”‚ <<Repository>>  - Spring Data Repository                                â”‚
â”‚ <<Service>>     - Service Layer                                         â”‚
â”‚ <<Controller>>  - Spring MVC Controller                                 â”‚
â”‚ @Entity         - JPA Entity                                            â”‚
â”‚ @ManyToOne      - Relacionamento N:1                                    â”‚
â”‚ â†’               - DireÃ§Ã£o do relacionamento                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Relacionamentos Principais

1. **H2ConnectionSingleton** â†’ implementa Singleton Pattern
   - Garante instÃ¢ncia Ãºnica de conexÃ£o
   - Usa DataSource do Java

2. **EntityFactory** â†’ implementa Factory Pattern
   - Cria instÃ¢ncias de todas as entidades
   - Encapsula lÃ³gica de criaÃ§Ã£o

3. **ViewController** â†’ usa Repositories â†’ usa Models
   - Controller depende de Repositories
   - Repositories dependem de Models (entidades JPA)

4. **Models** â†’ relacionamentos JPA
   - `Cliente 1:N Secao` (@OneToMany/@ManyToOne)
   - `Secao 1:N Atendimento` (@OneToMany/@ManyToOne)
   - `Colaborador 1:N Atendimento` (@OneToMany/@ManyToOne)
   - `Departamento 1:N Colaborador` (@OneToMany/@ManyToOne)
   - `Departamento 1:N Fila` (@OneToMany/@ManyToOne)
   - `Secao 1:N Fila` (@OneToMany/@ManyToOne)

---

## 5. Diagrama de Casos de Uso

### 5.1 Diagrama Completo com Atores

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       <<Actor>>          â”‚                    â”‚       <<Actor>>          â”‚
â”‚        Cliente           â”‚                    â”‚      Colaborador         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚                                               â”‚
           â”‚                                               â”‚
           â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â”‚         â”‚
           â”‚         â”‚
           â–¼         â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                  <<System>>                                  â”‚
    â”‚              Sistema P4 Fila                                 â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                              â”‚
    â”‚  UC01: Cadastrar Cliente                                    â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ Inclui: Validar CPF Ãºnico                           â”‚
    â”‚      â””â”€ Inclui: Validar Email Ãºnico                         â”‚
    â”‚                                                              â”‚
    â”‚  UC02: Editar Cliente                                       â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â””â”€ Estende: UC01                                       â”‚
    â”‚                                                              â”‚
    â”‚  UC03: Excluir Cliente                                      â”‚
    â”‚                                                              â”‚
    â”‚  UC04: Gerar Senha Normal                                   â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Cliente cadastrado                    â”‚
    â”‚      â”œâ”€ PÃ³s-condiÃ§Ã£o: Senha gerada com prefixo NA           â”‚
    â”‚      â””â”€ Inclui: Gerar cÃ³digo automÃ¡tico                     â”‚
    â”‚                                                              â”‚
    â”‚  UC05: Gerar Senha PrioritÃ¡ria                              â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Cliente cadastrado                    â”‚
    â”‚      â”œâ”€ PÃ³s-condiÃ§Ã£o: Senha gerada com prefixo PX           â”‚
    â”‚      â””â”€ Inclui: Gerar cÃ³digo automÃ¡tico                     â”‚
    â”‚                                                              â”‚
    â”‚  UC06: Visualizar Senhas                                    â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ Inclui: Filtrar por status                          â”‚
    â”‚      â”œâ”€ Inclui: Filtrar por tipo                            â”‚
    â”‚      â””â”€ Inclui: Ordenar por prioridade                      â”‚
    â”‚                                                              â”‚
    â”‚  UC07: Login Colaborador                                    â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Colaborador cadastrado                â”‚
    â”‚      â”œâ”€ Inclui: Validar credenciais                         â”‚
    â”‚      â””â”€ PÃ³s-condiÃ§Ã£o: SessÃ£o criada                         â”‚
    â”‚                                                              â”‚
    â”‚  UC08: Visualizar Senhas Aguardando                         â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Colaborador logado                    â”‚
    â”‚      â””â”€ Inclui: Priorizar senhas prioritÃ¡rias               â”‚
    â”‚                                                              â”‚
    â”‚  UC09: Chamar Senha                                         â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Senha com status AGUARDANDO           â”‚
    â”‚      â”œâ”€ Inclui: Atualizar status para CHAMADA               â”‚
    â”‚      â””â”€ PÃ³s-condiÃ§Ã£o: Senha chamada                         â”‚
    â”‚                                                              â”‚
    â”‚  UC10: Confirmar Cliente                                    â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Senha com status CHAMADA              â”‚
    â”‚      â”œâ”€ Inclui: Atualizar status para EM_ATENDIMENTO        â”‚
    â”‚      â””â”€ PÃ³s-condiÃ§Ã£o: Cliente confirmado                    â”‚
    â”‚                                                              â”‚
    â”‚  UC11: Finalizar Atendimento                                â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Senha em EM_ATENDIMENTO               â”‚
    â”‚      â”œâ”€ Inclui: Registrar descriÃ§Ã£o                         â”‚
    â”‚      â”œâ”€ Inclui: Atualizar status para FINALIZADA            â”‚
    â”‚      â””â”€ PÃ³s-condiÃ§Ã£o: Atendimento finalizado                â”‚
    â”‚                                                              â”‚
    â”‚  UC12: Transferir Atendimento                               â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Senha em EM_ATENDIMENTO               â”‚
    â”‚      â”œâ”€ Inclui: Informar departamento destino               â”‚
    â”‚      â”œâ”€ Inclui: Registrar motivo                            â”‚
    â”‚      â”œâ”€ Inclui: Atualizar status para TRANSFERIDA           â”‚
    â”‚      â””â”€ PÃ³s-condiÃ§Ã£o: Atendimento transferido               â”‚
    â”‚                                                              â”‚
    â”‚  UC13: Listar Atendimentos                                  â”‚
    â”‚      â”‚                                                       â”‚
    â”‚      â”œâ”€ PrÃ©-condiÃ§Ã£o: Colaborador logado                    â”‚
    â”‚      â””â”€ Inclui: Filtrar por colaborador                     â”‚
    â”‚                                                              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Legenda:
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ <<Actor>>       - Ator do sistema                           â”‚
â”‚ <<System>>      - Sistema                                    â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€         - Relacionamento                            â”‚
â”‚ â”œâ”€ Inclui       - Caso de uso incluÃ­do                      â”‚
â”‚ â”œâ”€ Estende      - Caso de uso estendido                     â”‚
â”‚ â”œâ”€ PrÃ©-condiÃ§Ã£o - CondiÃ§Ã£o necessÃ¡ria antes                 â”‚
â”‚ â””â”€ PÃ³s-condiÃ§Ã£o - Estado resultante                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 Matriz de Casos de Uso

| UC | Caso de Uso | Ator | PrÃ©-CondiÃ§Ã£o | PÃ³s-CondiÃ§Ã£o |
|----|-------------|------|--------------|--------------|
| UC01 | Cadastrar Cliente | Cliente | Sistema acessÃ­vel | Cliente cadastrado |
| UC02 | Editar Cliente | Cliente | Cliente existente | Cliente atualizado |
| UC03 | Excluir Cliente | Cliente | Cliente existente | Cliente removido |
| UC04 | Gerar Senha Normal | Cliente | Cliente cadastrado | Senha NA### criada |
| UC05 | Gerar Senha PrioritÃ¡ria | Cliente | Cliente cadastrado | Senha PX### criada |
| UC06 | Gerar Senha Cliente AnÃ´nimo | Cliente | Sistema acessÃ­vel | Senha PX### criada automaticamente |
| UC07 | Visualizar Senhas | Cliente | Sistema acessÃ­vel | Lista exibida |
| UC08 | Login Colaborador | Colaborador | Credenciais vÃ¡lidas | SessÃ£o criada |
| UC09 | Visualizar Senhas Aguardando | Colaborador | Logado | Lista ordenada |
| UC10 | Chamar Senha | Colaborador | Senha AGUARDANDO | Status CHAMADA, guichÃª registrado |
| UC11 | Confirmar Cliente | Colaborador | Senha CHAMADA | Status EM_ATENDIMENTO |
| UC12 | Cancelar Chamada | Colaborador | Senha CHAMADA | Status volta para AGUARDANDO |
| UC13 | Finalizar Atendimento | Colaborador | EM_ATENDIMENTO | Status FINALIZADA |
| UC14 | Transferir Atendimento | Colaborador | EM_ATENDIMENTO | Status TRANSFERIDA |
| UC15 | Listar Atendimentos | Colaborador | Logado | HistÃ³rico exibido |

---

## 6. Entidades do Sistema

### 6.1 Cliente
Representa o usuÃ¡rio que solicita atendimento.

| Campo  | Tipo    | DescriÃ§Ã£o                      |
|--------|---------|--------------------------------|
| id     | Long    | Identificador Ãºnico            |
| nome   | String  | Nome completo                  |
| idade  | Integer | Idade                          |
| cpf    | String  | CPF (Ãºnico)                    |
| email  | String  | E-mail (Ãºnico)                 |
| senha  | String  | Senha de acesso                |

### 6.2 Colaborador
FuncionÃ¡rio responsÃ¡vel por atendimentos.

| Campo          | Tipo   | DescriÃ§Ã£o                    |
|----------------|--------|------------------------------|
| id             | UUID   | Identificador Ãºnico          |
| nome           | String | Nome completo                |
| cpf            | String | CPF (Ãºnico)                  |
| idade          | Integer| Idade                        |
| usuario        | String | Login (Ãºnico)                |
| senha          | String | Senha                        |
| departamentoId | Long   | FK para Departamento         |

### 6.3 Secao
Senha de atendimento gerada para cliente.

| Campo              | Tipo    | DescriÃ§Ã£o                                    |
|--------------------|---------|----------------------------------------------|
| id                 | Long    | Identificador                                |
| idCliente          | Long    | FK para Cliente                              |
| senha              | String  | CÃ³digo gerado (NA### ou PX###)               |
| tipoSecao          | String  | NORMAL ou PRIORITARIA                        |
| status             | String  | AGUARDANDO/CHAMADA/EM_ATENDIMENTO/FINALIZADA/TRANSFERIDA |
| ativo              | Boolean | Indica se estÃ¡ ativa                         |
| guicheChamada      | String  | Identificador do guichÃª que chamou           |
| colaboradorChamada | String  | Nome do colaborador que chamou               |

### 6.4 Atendimento
Registro de atendimento realizado.

| Campo                  | Tipo   | DescriÃ§Ã£o                        |
|------------------------|--------|----------------------------------|
| id                     | Long   | Identificador                    |
| idSecao                | Long   | FK para Secao                    |
| idColaborador          | UUID   | FK para Colaborador              |
| descricaoAtendimento   | String | DescriÃ§Ã£o do atendimento         |
| status                 | String | Status do atendimento            |
| departamentoOrigemId   | Long   | FK para Departamento (origem)    |
| departamentoDestinoId  | Long   | FK para Departamento (destino)   |

---

## 7. Regras de NegÃ³cio

### RN01: GeraÃ§Ã£o de Senha
- Normal: prefixo `NA` + nÃºmero sequencial (ex: NA001, NA002)
- PrioritÃ¡ria: prefixo `PX` + nÃºmero sequencial (ex: PX001, PX002)
- Implementada via **Factory Pattern**
- **Cliente AnÃ´nimo**: Permite geraÃ§Ã£o de senha prioritÃ¡ria sem cadastro prÃ©vio de cliente

### RN02: Fluxo de Atendimento Completo
1. **AGUARDANDO** â†’ Senha criada, aguardando chamada
2. **CHAMADA** â†’ Colaborador chama senha para o guichÃª (registra guichÃª e colaborador)
3. **EM_ATENDIMENTO** â†’ Cliente confirmou presenÃ§a, atendimento iniciado
4. **FINALIZADA** â†’ Atendimento concluÃ­do (senha desativada)
5. **TRANSFERIDA** â†’ Enviada para outro departamento

**Fluxo detalhado:**
- Colaborador visualiza senhas em espera (ordenadas: prioritÃ¡rias primeiro)
- Colaborador chama senha (define guichÃª opcional)
- Sistema aguarda confirmaÃ§Ã£o de presenÃ§a do cliente
- Se cliente confirmar â†’ Status muda para EM_ATENDIMENTO
- Se cliente nÃ£o comparecer â†’ Senha volta para AGUARDANDO
- Durante atendimento: pode finalizar ou transferir para outro departamento

### RN03: PriorizaÃ§Ã£o
- Senhas prioritÃ¡rias (`PX`) tÃªm prioridade sobre normais (`NA`)
- OrdenaÃ§Ã£o automÃ¡tica na lista de aguardando
- Cliente anÃ´nimo sempre gera senha prioritÃ¡ria

### RN04: Atendimento SimultÃ¢neo
- Um colaborador pode atender apenas uma senha por vez
- NecessÃ¡rio finalizar ou transferir para chamar outra
- Sistema impede mÃºltiplos atendimentos simultÃ¢neos

### RN05: Cliente AnÃ´nimo
- Permite gerar senha sem cadastro prÃ©vio de cliente
- Senha gerada automaticamente como **PRIORITÃRIA**
- Cliente padrÃ£o "Cliente AnÃ´nimo" Ã© criado automaticamente no sistema
- Ideal para atendimento rÃ¡pido

---

## 8. Script da Base de Dados

```sql
-- CREATE DATABASE p4_fila;
-- USE p4_fila;

CREATE TABLE departamentos (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL UNIQUE
);

CREATE TABLE colaboradores (
    id UUID PRIMARY KEY,
    nome VARCHAR(200) NOT NULL,
    cpf VARCHAR(14) UNIQUE,
    idade INTEGER,
    usuario VARCHAR(50) UNIQUE NOT NULL,
    senha VARCHAR(255) NOT NULL,
    departamento_id BIGINT,
    FOREIGN KEY (departamento_id) REFERENCES departamentos(id)
);

CREATE TABLE clientes (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(200) NOT NULL,
    idade INTEGER,
    cpf VARCHAR(14) UNIQUE,
    email VARCHAR(255) UNIQUE,
    senha VARCHAR(255)
);

CREATE TABLE secoes (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    id_cliente BIGINT NOT NULL,
    senha VARCHAR(20) UNIQUE NOT NULL,
    tipo_secao VARCHAR(20) NOT NULL,
    status VARCHAR(20) DEFAULT 'AGUARDANDO',
    ativo BOOLEAN NOT NULL DEFAULT TRUE,
    guiche_chamada VARCHAR(100),
    colaborador_chamada VARCHAR(200),
    FOREIGN KEY (id_cliente) REFERENCES clientes(id)
);

CREATE TABLE atendimentos (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    id_secao BIGINT NOT NULL,
    id_colaborador UUID NOT NULL,
    descricao_atendimento TEXT,
    status VARCHAR(20),
    departamento_origem_id BIGINT,
    departamento_destino_id BIGINT,
    FOREIGN KEY (id_secao) REFERENCES secoes(id),
    FOREIGN KEY (id_colaborador) REFERENCES colaboradores(id),
    FOREIGN KEY (departamento_origem_id) REFERENCES departamentos(id),
    FOREIGN KEY (departamento_destino_id) REFERENCES departamentos(id)
);

CREATE TABLE filas (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    id_departamento BIGINT NOT NULL,
    id_secao BIGINT NOT NULL,
    espera BOOLEAN NOT NULL DEFAULT TRUE,
    FOREIGN KEY (id_departamento) REFERENCES departamentos(id),
    FOREIGN KEY (id_secao) REFERENCES secoes(id)
);

-- Colaboradores padrÃ£o
INSERT INTO departamentos (nome) VALUES ('Atendimento ao Cliente');

-- (Os colaboradores serÃ£o inseridos automaticamente via DataInitializer)
```

---

## 9. Tecnologias

| Componente           | Tecnologia                  |
|---------------------|----------------------------|
| Backend              | Spring Boot 3.5.7          |
| Banco de Dados       | H2 Database (in-memory)    |
| ORM                  | Spring Data JPA            |
| Linguagem            | Java 21                    |
| Frontend             | Thymeleaf + HTML5 + CSS3   |
| Build                | Maven                      |
| Design Pattern       | Singleton, Factory         |
| Estilo               | Glassmorphism (efeito vidro) |

---

## 10. Estrutura de Pacotes

```
src/main/java/com/example/P4_Fila/
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ H2ConnectionSingleton.java        # Singleton para conexÃ£o
â”‚   â””â”€â”€ DataInitializer.java              # Dados iniciais
â”‚
â”œâ”€â”€ factory/
â”‚   â””â”€â”€ EntityFactory.java                # Factory Pattern
â”‚
â”œâ”€â”€ model/                                # Entidades JPA
â”‚   â”œâ”€â”€ Cliente.java
â”‚   â”œâ”€â”€ Colaborador.java
â”‚   â”œâ”€â”€ Departamento.java
â”‚   â”œâ”€â”€ Secao.java
â”‚   â”œâ”€â”€ Atendimento.java
â”‚   â””â”€â”€ Fila.java
â”‚
â”œâ”€â”€ repository/                           # Spring Data JPA
â”‚   â”œâ”€â”€ ClienteRepository.java
â”‚   â”œâ”€â”€ ColaboradorRepository.java
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ service/                              # LÃ³gica de negÃ³cio
â”‚   â”œâ”€â”€ ClienteService.java
â”‚   â”œâ”€â”€ ColaboradorService.java
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ controller/                           # Controllers REST + Views
â”‚   â”œâ”€â”€ ViewController.java
â”‚   â””â”€â”€ ...
â”‚
â””â”€â”€ P4FilaApplication.java
```

---

## 11. Interface Web

### 11.1 Design e Arquitetura Frontend

#### Estrutura de CSS Modularizada
O sistema utiliza CSS modularizado, com arquivos especÃ­ficos para cada tela:

- **`base.css`** - Estilos compartilhados (header, botÃµes, formulÃ¡rios, etc.)
- **`index.css`** - Tela de apresentaÃ§Ã£o inicial
- **`clientes.css`** - Gerenciamento de clientes
- **`criar-secao.css`** - CriaÃ§Ã£o de senhas
- **`senhas.css`** - VisualizaÃ§Ã£o de senhas (TV estÃ¡tica)
- **`login.css`** - AutenticaÃ§Ã£o de colaboradores
- **`atendimento.css`** - Painel de atendimento

#### CaracterÃ­sticas de Design
- **Tema:** Preto e Branco elegante e profissional
- **Efeito:** Glassmorphism (vidro com blur)
- **Responsivo:** AdaptÃ¡vel a todos os dispositivos
- **AnimaÃ§Ãµes:** TransiÃ§Ãµes suaves
- **Tipografia:** Moderna e legÃ­vel

### 11.2 Telas do Sistema

#### 1. **Tela de ApresentaÃ§Ã£o** (`/`)
- **DescriÃ§Ã£o:** Tela inicial do sistema com menu dropdown
- **Menu Dropdown:**
  - **Senhas** (submenu):
    - âœ Gerar Senha
    - âœ Visualizar Senhas
  - **Login Colaborador**
- **SeÃ§Ãµes:**
  - Cards de funcionalidades (6 cards)
  - EstatÃ­sticas do sistema (Clientes, Senhas Ativas, Em Espera)
  - Footer com informaÃ§Ãµes do sistema

#### 2. **Gerenciar Clientes** (`/clientes`)
- **DescriÃ§Ã£o:** CRUD completo de clientes
- **Funcionalidades:**
  - Cadastrar novo cliente
  - Editar cliente existente
  - Excluir cliente
  - Listar todos os clientes em tabela

#### 3. **Criar Senha** (`/criar-secao`)
- **DescriÃ§Ã£o:** GeraÃ§Ã£o de senhas de atendimento
- **Modos de Atendimento:**
  - **Cliente Cadastrado:**
    - SeleÃ§Ã£o de cliente
    - Escolha do tipo (Normal ou PrioritÃ¡ria)
  - **Cliente AnÃ´nimo (RÃ¡pido):**
    - GeraÃ§Ã£o automÃ¡tica de senha prioritÃ¡ria
    - Sem necessidade de cadastro prÃ©vio
- **Tipos de Senha:**
  - Normal: prefixo `NA###` (ex: NA001, NA002)
  - PrioritÃ¡ria: prefixo `PX###` (ex: PX001, PX002)

#### 4. **Visualizar Senhas** (`/senhas`)
- **DescriÃ§Ã£o:** Tela otimizada para exibiÃ§Ã£o em TV estÃ¡tica
- **Layout Responsivo:**
  - **Lado Esquerdo:** Senha atual chamada (grande destaque)
    - NÃºmero da senha em destaque (fonte grande)
    - Tipo (Normal/PrioritÃ¡ria)
    - Status atual
    - GuichÃª onde foi chamada (se disponÃ­vel)
    - Nome do colaborador que chamou (se disponÃ­vel)
  - **Lado Direito:** Ãšltimas 3 senhas chamadas
    - Cards compactos com informaÃ§Ãµes essenciais
    - NÃºmero da senha, tipo, guichÃª e colaborador
    - Layout sempre lado a lado, adaptando ao tamanho da tela
- **CaracterÃ­sticas:**
  - Layout flexÃ­vel que se adapta ao tamanho da tela
  - Ocupa 95% da largura da viewport
  - Sempre mantÃ©m layout lado a lado (nunca empilha verticalmente)
  - Design compacto para melhor visualizaÃ§Ã£o em TV
- **InformaÃ§Ãµes Exibidas:**
  - NÃºmero da senha
  - Tipo (Normal/PrioritÃ¡ria)
  - GuichÃª onde foi chamada
  - Nome do colaborador que chamou
  - Status atual
- **AtualizaÃ§Ã£o:** AutomÃ¡tica a cada 10 segundos
- **Otimizado para:** VisualizaÃ§Ã£o estÃ¡tica em TV/monitor de qualquer tamanho

#### 5. **Login Colaborador** (`/login`)
- **DescriÃ§Ã£o:** AutenticaÃ§Ã£o de colaboradores
- **Campos:**
  - UsuÃ¡rio
  - Senha
- **Credenciais PadrÃ£o:**
  - UsuÃ¡rio: `1`, `2` ou `3`
  - Senha: `123`

#### 6. **Painel de Atendimento** (`/atendimento`)
- **DescriÃ§Ã£o:** Painel completo para colaboradores gerenciarem atendimentos
- **Estados Visuais:**
  1. **Nenhum Atendimento:** Mensagem informativa
  2. **Senhas Aguardando:** Cards compactos com senhas para chamar
  3. **Senha Chamada:** Aguardando confirmaÃ§Ã£o do cliente
  4. **Em Atendimento:** Painel de controle completo
- **Fluxo de Atendimento:**
  - **Chamar Senha:**
    - SeleÃ§Ã£o de senha da lista de espera
    - OpÃ§Ã£o de informar guichÃª
    - Senha muda para status "CHAMADA"
  - **Confirmar Cliente:**
    - BotÃ£o para confirmar presenÃ§a do cliente
    - OpÃ§Ã£o de cancelar chamada se cliente nÃ£o comparecer
    - Status muda para "EM_ATENDIMENTO"
  - **Durante Atendimento:**
    - Finalizar atendimento (com descriÃ§Ã£o)
    - Transferir para outro departamento (com motivo)
- **Recursos:**
  - Cards compactos para senhas aguardando
  - InformaÃ§Ãµes do colaborador discretas no header
  - Foco visual no atendimento ativo
  - AtualizaÃ§Ã£o automÃ¡tica a cada 15 segundos

### 11.3 Funcionalidades Especiais

#### Cliente AnÃ´nimo
- Permite geraÃ§Ã£o rÃ¡pida de senha sem cadastro
- Senha gerada automaticamente como **PRIORITÃRIA**
- Ideal para atendimento rÃ¡pido
- Cliente padrÃ£o criado automaticamente no sistema

#### Rastreamento de Chamadas
- Sistema registra onde e por quem a senha foi chamada
- Campos adicionais na entidade `Secao`:
  - `guicheChamada`: Identificador do guichÃª
  - `colaboradorChamada`: Nome do colaborador que chamou

#### VisualizaÃ§Ã£o em TV
- Tela `/senhas` otimizada para exibiÃ§Ã£o estÃ¡tica
- Header removido para visualizaÃ§Ã£o limpa
- Filtros e estatÃ­sticas removidos
- Layout responsivo adaptÃ¡vel ao tamanho da tela
- **Layout lado a lado:**
  - Esquerda: Senha atual (2/3 da largura)
  - Direita: Ãšltimas 3 senhas chamadas (1/3 da largura)
- Ocupa 95% da largura da viewport
- Sempre mantÃ©m layout horizontal (nunca empilha verticalmente)
- Foco na senha atual e Ãºltimas chamadas

---

## 12. Como Executar

### PrÃ©-requisitos
- Java 21
- Maven 3.8+

### Executar
```bash
mvn spring-boot:run
```

### Acessar
- Interface Web: http://localhost:8080
- Console H2: http://localhost:8080/h2-console

### Credenciais PadrÃ£o

| UsuÃ¡rio | Senha | Nome          |
|---------|-------|---------------|
| 1       | 123   | JoÃ£o Silva    |
| 2       | 123   | Maria Santos  |
| 3       | 123   | Pedro Oliveira|

---

## 13. Testes

### 13.1 EstratÃ©gia de Testes

O projeto utiliza **JUnit 5** e **Mockito** para testes unitÃ¡rios, seguindo as melhores prÃ¡ticas de TDD (Test-Driven Development).

### 13.2 Estrutura de Testes

```
src/test/java/com/example/P4_Fila/
â”‚
â”œâ”€â”€ factory/
â”‚   â””â”€â”€ EntityFactoryTest.java          # Testes do Factory Pattern
â”‚
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ ClienteServiceTest.java         # Testes do ClienteService
â”‚   â””â”€â”€ SecaoServiceTest.java           # Testes do SecaoService
â”‚
â”œâ”€â”€ config/
â”‚   â””â”€â”€ H2ConnectionSingletonTest.java  # Testes do Singleton Pattern
â”‚
â””â”€â”€ test/
    â””â”€â”€ CasosDeTeste.java               # DocumentaÃ§Ã£o de casos de teste
```

### 13.3 Executar Testes

```bash
# Executar todos os testes
mvn test

# Executar testes com relatÃ³rio de cobertura
mvn test jacoco:report

# Executar um teste especÃ­fico
mvn test -Dtest=EntityFactoryTest
```

### 13.4 Cobertura de Testes

#### Testes UnitÃ¡rios Implementados

**EntityFactoryTest** - Testa o Factory Pattern
- âœ… Criar Cliente
- âœ… Criar Departamento
- âœ… Criar Colaborador
- âœ… Criar SeÃ§Ã£o Normal (NA###)
- âœ… Criar SeÃ§Ã£o PrioritÃ¡ria (PX###)
- âœ… Criar Atendimento
- âœ… Criar Fila

**ClienteServiceTest** - Testa lÃ³gica de negÃ³cio de clientes
- âœ… Criar Cliente
- âœ… Listar Clientes
- âœ… Buscar Cliente por ID
- âœ… Atualizar Cliente
- âœ… Deletar Cliente

**SecaoServiceTest** - Testa lÃ³gica de negÃ³cio de seÃ§Ãµes
- âœ… Criar SeÃ§Ã£o
- âœ… Listar SeÃ§Ãµes
- âœ… Buscar SeÃ§Ã£o por ID
- âœ… Buscar SeÃ§Ã£o por Senha
- âœ… Buscar SeÃ§Ãµes Ativas
- âœ… Desativar SeÃ§Ã£o

**H2ConnectionSingletonTest** - Testa o Singleton Pattern
- âœ… Retornar mesma instÃ¢ncia
- âœ… Criar DataSource

### 13.5 Casos de Teste Documentados

O arquivo `CasosDeTeste.java` documenta os principais casos de teste funcionais:

#### CT01: Cadastrar Cliente com Sucesso
- **Objetivo:** Validar cadastro de novo cliente
- **Entrada:** Dados vÃ¡lidos do cliente
- **Resultado Esperado:** Cliente cadastrado e exibido na lista

#### CT02: Cadastrar Cliente com CPF Duplicado
- **Objetivo:** Validar unicidade de CPF
- **Entrada:** CPF jÃ¡ existente
- **Resultado Esperado:** Erro de validaÃ§Ã£o

#### CT03: Gerar Senha Normal
- **Objetivo:** Validar geraÃ§Ã£o de senha tipo Normal
- **Entrada:** Cliente selecionado, tipo Normal
- **Resultado Esperado:** Senha gerada com prefixo "NA"

#### CT04: Gerar Senha PrioritÃ¡ria
- **Objetivo:** Validar geraÃ§Ã£o de senha tipo PrioritÃ¡ria
- **Entrada:** Cliente selecionado, tipo PrioritÃ¡ria
- **Resultado Esperado:** Senha gerada com prefixo "PX"

#### CT05: Gerar Senha Cliente AnÃ´nimo
- **Objetivo:** Validar geraÃ§Ã£o rÃ¡pida de senha sem cadastro
- **Entrada:** Modo "Cliente AnÃ´nimo" selecionado
- **Resultado Esperado:** Senha prioritÃ¡ria gerada automaticamente, cliente anÃ´nimo criado

#### CT06: Login Colaborador com Sucesso
- **Objetivo:** Validar autenticaÃ§Ã£o de colaborador
- **Entrada:** UsuÃ¡rio e senha vÃ¡lidos
- **Resultado Esperado:** Redirecionamento para painel de atendimento

#### CT06: Login Colaborador com Credenciais InvÃ¡lidas
- **Objetivo:** Validar seguranÃ§a de login
- **Entrada:** Credenciais invÃ¡lidas
- **Resultado Esperado:** Mensagem de erro, acesso negado

#### CT07: Chamar Senha
- **Objetivo:** Validar chamada de senha pelo colaborador
- **Entrada:** Senha com status AGUARDANDO, guichÃª opcional
- **Resultado Esperado:** Status muda para CHAMADA, guichÃª e colaborador registrados

#### CT08: Confirmar Cliente
- **Objetivo:** Validar confirmaÃ§Ã£o de presenÃ§a do cliente
- **Entrada:** Senha com status CHAMADA
- **Resultado Esperado:** Status muda para EM_ATENDIMENTO

#### CT09: Cancelar Chamada
- **Objetivo:** Validar cancelamento quando cliente nÃ£o comparece
- **Entrada:** Senha com status CHAMADA
- **Resultado Esperado:** Status volta para AGUARDANDO, guichÃª e colaborador limpos

#### CT10: Finalizar Atendimento
- **Objetivo:** Validar finalizaÃ§Ã£o de atendimento
- **Entrada:** Senha em atendimento, descriÃ§Ã£o preenchida
- **Resultado Esperado:** Status FINALIZADA, ativo=false

#### CT11: Transferir Atendimento
- **Objetivo:** Validar transferÃªncia para outro departamento
- **Entrada:** Senha em atendimento, departamento destino e motivo
- **Resultado Esperado:** Status TRANSFERIDA

#### CT12: PriorizaÃ§Ã£o de Senhas PrioritÃ¡rias
- **Objetivo:** Validar ordenaÃ§Ã£o por prioridade
- **Entrada:** Lista com senhas normais e prioritÃ¡rias
- **Resultado Esperado:** PrioritÃ¡rias aparecem primeiro

#### CT13: Visualizar Senhas em TV EstÃ¡tica
- **Objetivo:** Validar visualizaÃ§Ã£o otimizada para TV
- **Entrada:** Acesso Ã  tela /senhas
- **Resultado Esperado:** Senha atual grande e Ãºltimas 3 chamadas ao lado

### 13.6 Tecnologias de Teste

| Ferramenta | VersÃ£o | PropÃ³sito |
|-----------|--------|-----------|
| JUnit 5 | 5.x | Framework de testes |
| Mockito | 4.x | Mocking de dependÃªncias |
| Spring Boot Test | 3.5.7 | Testes de integraÃ§Ã£o |

---

## 14. API REST

### Exemplos

#### Criar Cliente
```http
POST /api/clientes
Content-Type: application/json

{
  "nome": "JoÃ£o Silva",
  "idade": 35,
  "cpf": "12345678900",
  "email": "joao@email.com",
  "senha": "1234"
}
```

#### Criar Senha
```http
POST /api/secoes
Content-Type: application/json

{
  "idCliente": 1,
  "tipoSecao": "PRIORITARIA"
}
```

**Resposta:**
```json
{
  "id": 1,
  "senha": "PX001",
  "tipoSecao": "PRIORITARIA",
  "status": "AGUARDANDO",
  "ativo": true
}
```

---

---

## 15. Diagrama de SequÃªncia

### 15.1 Fluxo: Gerar Senha e Atender

```
Cliente           ViewController       EntityFactory      SecaoRepository    H2ConnectionSingleton
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚â”€â”€ POST /criar-secaoâ”€â–¶                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ createSecao() â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚â”€â”€ generateSenha()  â”‚                    â”‚
  â”‚                    â”‚                    â”‚  (Factory Pattern) â”‚                    â”‚
  â”‚                    â”‚                    â”‚â—€â”€ "NA001" â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â—€â”€â”€ Secao â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚                    â”‚  (senha, status)   â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ save() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚â”€â”€ getConnection() â”€â”€â–¶
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚â—€â”€ Connection â”€â”€â”€â”€â”€â”€â”€â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚â”€â”€ INSERT INTO â”€â”€â”€â”€â”€â”€â–¶
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â—€â”€â”€ saved Secao â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚â—€â”€â”€ HTTP 200 â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚                    â”‚
  â”‚  (senha gerada)    â”‚                    â”‚                    â”‚                    â”‚
```

### 15.2 Fluxo: Chamar Senha e Atender

```
Colaborador       ViewController       SecaoRepository    AtendimentoService
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â”€â”€ POST /login â”€â”€â”€â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ validate() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â—€â”€â”€ redirect â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚  /atendimento      â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â”€â”€ GET /atendimentoâ”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ findByStatus() â”€â”€â”€â–¶                   â”‚
  â”‚                    â”‚  "AGUARDANDO"      â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â—€â”€â”€ List<Secao> â”€â”€â”€â”€â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â—€â”€â”€ render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚  (lista senhas)    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â”€â”€ POST /chamar â”€â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚  (idSecao)         â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ findById() â”€â”€â”€â”€â”€â”€â–¶                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â—€â”€â”€ Secao â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ setStatus() â”€â”€â”€â”€â”€â–¶                    â”‚
  â”‚                    â”‚  "CHAMADA"         â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ save() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚
  â”‚â—€â”€â”€ redirect â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚  /atendimento      â”‚                    â”‚                    â”‚
```

### 15.3 Fluxo: Finalizar Atendimento

```
Colaborador       ViewController       SecaoService      AtendimentoService    Repository
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚â”€â”€ POST /finalizar â”€â–¶                    â”‚                    â”‚                    â”‚
  â”‚  (idSecao, desc)   â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ findById() â”€â”€â”€â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â—€â”€â”€ Secao â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ setStatus() â”€â”€â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚  "FINALIZADA"      â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ setAtivo(false) â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ criarAtendimento()â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚â”€â”€ save() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚â”€â”€ save() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚â—€â”€â”€ Atendimento â”€â”€â”€â”€â”€â”‚
  â”‚                    â”‚â—€â”€â”€ updated â”€â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚
  â”‚                    â”‚                    â”‚                    â”‚                    â”‚
  â”‚â—€â”€â”€ redirect â”€â”€â”€â”€â”€â”€â”€â”‚                    â”‚                    â”‚                    â”‚
  â”‚  /atendimento      â”‚                    â”‚                    â”‚                    â”‚
```

---

## 16. ConclusÃ£o

### 15.1 Resumo do Projeto

O **Sistema de Atendimento P4 Fila** Ã© uma aplicaÃ§Ã£o completa e profissional que demonstra:

- âœ… **PadrÃµes de Design:** Singleton e Factory implementados corretamente
- âœ… **Arquitetura Limpa:** SeparaÃ§Ã£o de responsabilidades (Model, Repository, Service, Controller)
- âœ… **Interface Moderna:** Design profissional com glassmorphism
- âœ… **Testes UnitÃ¡rios:** Cobertura de componentes principais
- âœ… **DocumentaÃ§Ã£o Completa:** README detalhado com diagramas e casos de uso

### 15.2 Funcionalidades Principais

1. **Gerenciamento de Clientes:** CRUD completo
2. **GeraÃ§Ã£o de Senhas:** Normal e PrioritÃ¡ria com Factory Pattern
3. **Sistema de Atendimento:** Fluxo completo (Chamar â†’ Confirmar â†’ Finalizar/Transferir)
4. **PriorizaÃ§Ã£o:** Senhas prioritÃ¡rias atendidas primeiro
5. **TransferÃªncia:** Encaminhamento entre departamentos

### 15.3 Melhorias Futuras

- [ ] IntegraÃ§Ã£o com Spring Security para autenticaÃ§Ã£o robusta
- [ ] API REST completa com documentaÃ§Ã£o Swagger/OpenAPI
- [ ] NotificaÃ§Ãµes em tempo real com WebSocket
- [ ] Dashboard com mÃ©tricas e estatÃ­sticas
- [ ] Testes de integraÃ§Ã£o end-to-end
- [ ] Deploy em cloud (AWS, Azure, GCP)
- [ ] MigraÃ§Ã£o para banco de dados PostgreSQL/MySQL

### 15.4 ContribuiÃ§Ãµes

Este projeto foi desenvolvido como trabalho acadÃªmico demonstrando:
- ImplementaÃ§Ã£o de padrÃµes de design
- Modelagem de banco de dados
- Desenvolvimento full-stack com Spring Boot
- Testes unitÃ¡rios e casos de teste
- DocumentaÃ§Ã£o tÃ©cnica completa

---

## ğŸ‘¨â€ğŸ’» Autor

**Pedro Henrique**

Sistema desenvolvido com Spring Boot 3.5.7, H2 Database e padrÃµes de design Singleton + Factory.

**Tecnologias Utilizadas:**
- Java 21
- Spring Boot 3.5.7
- Spring Data JPA
- H2 Database
- Thymeleaf
- JUnit 5 + Mockito
- Maven

---

## ğŸ“„ LicenÃ§a

Este projeto Ã© um demo educacional desenvolvido para fins de aprendizado e demonstraÃ§Ã£o de conceitos de engenharia de software.

---

## ğŸ“š ReferÃªncias

- [Spring Boot Documentation](https://spring.io/projects/spring-boot)
- [Design Patterns: Elements of Reusable Object-Oriented Software](https://en.wikipedia.org/wiki/Design_Patterns)
- [H2 Database](https://www.h2database.com/)
- [JUnit 5 User Guide](https://junit.org/junit5/docs/current/user-guide/)
