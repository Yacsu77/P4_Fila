<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="10">
    <title>Visualizar Senhas - Sistema de Atendimento</title>
    <link rel="stylesheet" th:href="@{/css/base.css}">
    <link rel="stylesheet" th:href="@{/css/senhas.css}">
</head>
<body>
    <!-- Header removido para visualizaÃ§Ã£o em TV -->

    <div class="container" style="padding-top: 20px; max-width: 95vw;">
        <!-- Layout Principal: Senha Atual + Ãšltimas Chamadas -->
        <div class="senhas-layout">
            <!-- Senha Atual (Grande) -->
            <div class="senha-atual-section">
                <div class="label">ğŸ¯ Senha Atual</div>
                
                <div th:if="${senhaAtual != null}">
                    <div class="senha-codigo" th:text="${senhaAtual.senha}">NA001</div>
                    <div class="senha-info">
                        <div><strong>Tipo:</strong> <span th:text="${senhaAtual.tipoSecao}">NORMAL</span></div>
                        <div><strong>Status:</strong> <span class="status" th:text="${senhaAtual.status}">CHAMADA</span></div>
                        <div class="chamada-info" th:if="${senhaAtual.guicheChamada != null}">
                            <strong>ğŸ“</strong> <span th:text="${senhaAtual.guicheChamada}">GuichÃª 1</span><br>
                            <strong>ğŸ‘¤</strong> <span th:text="${senhaAtual.colaboradorChamada}">JoÃ£o Silva</span>
                        </div>
                    </div>
                </div>
                
                <div th:unless="${senhaAtual != null}" class="empty-state">
                    <div class="icon">ğŸ“­</div>
                    <div style="font-size: 0.95rem; margin-top: 15px;">Nenhuma senha chamada</div>
                    <div style="font-size: 0.75rem; margin-top: 8px; opacity: 0.8;">Aguardando atendente</div>
                </div>
            </div>

            <!-- Ãšltimas 3 Senhas Chamadas -->
            <div class="senhas-chamadas-section">
                <div class="section-title">ğŸ“¢ Ãšltimas Chamadas</div>
                
                <div th:if="${!#lists.isEmpty(senhasChamadas)}">
                    <div class="senha-chamada-item" th:each="senha : ${senhasChamadas}">
                        <div class="senha-numero" th:text="${senha.senha}">NA001</div>
                        <div class="senha-tipo" 
                             th:classappend="${senha.tipoSecao == 'PRIORITARIA'} ? prioritaria : normal"
                             th:text="${senha.tipoSecao}">NORMAL</div>
                        <div class="chamada-info">
                            <div><strong>ğŸ“</strong> <span class="guiche" th:text="${senha.guicheChamada != null ? senha.guicheChamada : 'N/A'}">GuichÃª 1</span></div>
                            <div><strong>ğŸ‘¤</strong> <span th:text="${senha.colaboradorChamada != null ? senha.colaboradorChamada : 'N/A'}">JoÃ£o Silva</span></div>
                        </div>
                    </div>
                </div>
                
                <div th:if="${#lists.isEmpty(senhasChamadas)}" class="empty-state">
                    <div class="icon">ğŸ“­</div>
                    <div style="margin-top: 10px; color: var(--gray-medium); font-size: 0.75rem;">Nenhuma chamada</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
